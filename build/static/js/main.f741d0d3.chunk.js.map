{"version":3,"sources":["auth/index.js","components/Header.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["getCurrentUser","JSON","parse","localStorage","getItem","Header","userList","currentUser","setCurrentUser","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","removeItem","username","onChange","id","target","value","user","find","map","setItem","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","setUserPosts","setUserTodos","getUsers","then","users","catch","error","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f741d0d3.chunk.js","sourcesContent":["export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n}\n\nexport function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n}\n\nexport function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n}","import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { storeCurrentUser, clearCurrentUser } from '../auth';\n\nimport './Header.css';\n\nconst Header = ({ userList, currentUser, setCurrentUser }) => {\n    const [selectedUser, setSelectedUser] = useState();\n\n    useEffect(() => {\n        setSelectedUser(userList[0]);\n    }, [userList]);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n    }\n\n    const handleSelectChange = (event) => {\n        const id = event.target.value;\n        const user = userList.find(user => user.id == id);\n        setSelectedUser(user);\n    }\n\n    const handleUserLogin = (event) => {\n        storeCurrentUser(selectedUser);\n        setCurrentUser(selectedUser);\n    }\n\n    const handleUserLogout = (event) => {\n        setSelectedUser(userList[0]);\n        clearCurrentUser();\n        setCurrentUser(null);\n    }\n\n    return (\n        <header>\n            <h1>Welcome to UserHub</h1>\n            <form\n                className=\"user-select\"\n                onSubmit={handleSubmit} >\n                {\n                    currentUser\n                        ? <>\n                            <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n                            <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink >\n                            <button onClick={handleUserLogout}>LOG OUT, {currentUser.username}</button>\n                        </>\n                        : <>\n                            <select onChange={handleSelectChange}>{\n                                userList.map(user => (\n                                    <option key={user.id} value={user.id}>\n                                        { user.username}\n                                    </option>\n                                ))\n                            }</select>\n                            <button onClick={handleUserLogin}>LOG IN</button>\n                        </>\n                }\n            </form>\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n    currentUser,\n    userPosts\n}) => {\n    return (\n        <div className=\"user-posts\">\n            <h2>Posts By {currentUser.username}</h2>\n            {userPosts.map(({ id, title, body }) => (\n                <div key={id} className=\"post\">\n                    <h3>{title}</h3>\n                    <p>{body}</p>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserPosts;","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n    currentUser,\n    userTodos\n}) => {\n    return (\n        <div className=\"user-todos\">\n            <h2>Todos By {currentUser.username}</h2>\n            {userTodos.map(({ id, title, completed }) => (\n                <div key={id} className=\"todo\">\n                    <h3 style={{\n                        textDecoration: completed ? 'line-through' : 'none'\n                    }}>{title}</h3>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserTodos;","import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n    try {\n        const { data } = await axios.get(`${BASE}/users`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getPostsByUser(userId) {\n    try {\n        const { data } = await axios.get(`${BASE}/users/${userId}/posts`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getTodosByUser(userId) {\n    try {\n        const { data } = await axios.get(`${BASE}/users/${userId}/todos`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Header, UserPosts, UserTodos } from './components';\n\nimport { getCurrentUser } from './auth';\n\nimport { getUsers, getPostsByUser, getTodosByUser } from './api';\n\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\n\nconst App = () => {\n    const [userList, setUserList] = useState([]);\n    const [currentUser, setCurrentUser] = useState(getCurrentUser);\n    const [userPosts, setUserPosts] = useState([]);\n    const [userTodos, setUserTodos] = useState([]);\n\n    useEffect(() => {\n        getUsers()\n            .then(users => {\n                setUserList(users)\n            })\n            .catch(error => {\n                // something something errors\n            });\n    }, []);\n\n    useEffect(() => {\n        if (!currentUser) {\n            setUserPosts([]);\n            setUserTodos([]);\n            return;\n        }\n\n        getPostsByUser(currentUser.id)\n            .then(posts => {\n                setUserPosts(posts);\n            })\n            .catch(error => {\n                // something something errors\n            });\n\n        getTodosByUser(currentUser.id)\n            .then(todos => {\n                setUserTodos(todos);\n            })\n            .catch(error => {\n                // something something errors\n            });\n    }, [currentUser]);\n\n    return (\n        <Router>\n            <div id=\"App\">\n                <Header\n                    userList={userList}\n                    currentUser={currentUser}\n                    setCurrentUser={setCurrentUser} />\n                {\n                    currentUser\n                        ? <>\n                            <Switch>\n                                <Route path=\"/posts\">\n                                    <UserPosts\n                                        userPosts={userPosts}\n                                        currentUser={currentUser} />\n                                </Route>\n                                <Route path=\"/todos\">\n                                    <UserTodos\n                                        userTodos={userTodos}\n                                        currentUser={currentUser} />\n                                </Route>\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: \".5em\"\n                                    }}>Welcome, {currentUser.username}!</h2>\n                                </Route>\n                                <Redirect to=\"/\" />\n                            </Switch>\n                        </>\n                        : <>\n                            <Switch>\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: \".5em\"\n                                    }}>Please log in, above.</h2>\n                                </Route>\n                                <Redirect to=\"/\" />\n                            </Switch>\n                        </>\n                }\n            </div>\n        </Router>\n    );\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"],"sourceRoot":""}