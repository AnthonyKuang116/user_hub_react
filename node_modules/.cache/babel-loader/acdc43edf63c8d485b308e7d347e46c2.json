{"ast":null,"code":"import _slicedToArray from\"/home/anthony/course_work/user_hub_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import ReactDOM from'react-dom';import{Header,UserPosts,UserTodos}from'./components';import{getCurrentUser}from'./auth';import{getUsers,getPostsByUser,getTodosByUser}from'./api';import{BrowserRouter as Router,Route,Switch,Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=useState(getCurrentUser),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userPosts=_useState6[0],setUserPosts=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userTodos=_useState8[0],setUserTodos=_useState8[1];useEffect(function(){getUsers().then(function(users){setUserList(users);}).catch(function(error){// something something errors\n});},[]);useEffect(function(){if(!currentUser){setUserPosts([]);setUserTodos([]);return;}getPostsByUser(currentUser.id).then(function(posts){setUserPosts(posts);}).catch(function(error){// something something errors\n});getTodosByUser(currentUser.id).then(function(todos){setUserTodos(todos);}).catch(function(error){// something something errors\n});},[currentUser]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"App\",children:[/*#__PURE__*/_jsx(Header,{userList:userList,currentUser:currentUser,setCurrentUser:setCurrentUser}),currentUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/posts\",children:/*#__PURE__*/_jsx(UserPosts,{userPosts:userPosts,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/todos\",children:/*#__PURE__*/_jsx(UserTodos,{userTodos:userTodos,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsxs(\"h2\",{style:{padding:\".5em\"},children:[\"Welcome, \",currentUser.username,\"!\"]})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(\"h2\",{style:{padding:\".5em\"},children:\"Please log in, above.\"})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})})]})});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('root'));","map":{"version":3,"sources":["/home/anthony/course_work/user_hub_react/src/index.js"],"names":["React","useEffect","useState","ReactDOM","Header","UserPosts","UserTodos","getCurrentUser","getUsers","getPostsByUser","getTodosByUser","BrowserRouter","Router","Route","Switch","Redirect","App","userList","setUserList","currentUser","setCurrentUser","userPosts","setUserPosts","userTodos","setUserTodos","then","users","catch","error","id","posts","todos","padding","username","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Header, UserPosts, UserTodos } from './components';\n\nimport { getCurrentUser } from './auth';\n\nimport { getUsers, getPostsByUser, getTodosByUser } from './api';\n\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\n\nconst App = () => {\n    const [userList, setUserList] = useState([]);\n    const [currentUser, setCurrentUser] = useState(getCurrentUser);\n    const [userPosts, setUserPosts] = useState([]);\n    const [userTodos, setUserTodos] = useState([]);\n\n    useEffect(() => {\n        getUsers()\n            .then(users => {\n                setUserList(users)\n            })\n            .catch(error => {\n                // something something errors\n            });\n    }, []);\n\n    useEffect(() => {\n        if (!currentUser) {\n            setUserPosts([]);\n            setUserTodos([]);\n            return;\n        }\n\n        getPostsByUser(currentUser.id)\n            .then(posts => {\n                setUserPosts(posts);\n            })\n            .catch(error => {\n                // something something errors\n            });\n\n        getTodosByUser(currentUser.id)\n            .then(todos => {\n                setUserTodos(todos);\n            })\n            .catch(error => {\n                // something something errors\n            });\n    }, [currentUser]);\n\n    return (\n        <Router>\n            <div id=\"App\">\n                <Header\n                    userList={userList}\n                    currentUser={currentUser}\n                    setCurrentUser={setCurrentUser} />\n                {\n                    currentUser\n                        ? <>\n                            <Switch>\n                                <Route path=\"/posts\">\n                                    <UserPosts\n                                        userPosts={userPosts}\n                                        currentUser={currentUser} />\n                                </Route>\n                                <Route path=\"/todos\">\n                                    <UserTodos\n                                        userTodos={userTodos}\n                                        currentUser={currentUser} />\n                                </Route>\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: \".5em\"\n                                    }}>Welcome, {currentUser.username}!</h2>\n                                </Route>\n                                <Redirect to=\"/\" />\n                            </Switch>\n                        </>\n                        : <>\n                            <Switch>\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: \".5em\"\n                                    }}>Please log in, above.</h2>\n                                </Route>\n                                <Redirect to=\"/\" />\n                            </Switch>\n                        </>\n                }\n            </div>\n        </Router>\n    );\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}